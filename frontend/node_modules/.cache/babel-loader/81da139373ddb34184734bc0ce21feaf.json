{"ast":null,"code":"var _jsxFileName = \"/Users/qiuyutianwen/Documents/GitHub/BitCorner/frontend/src/pages/Report.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { Tabs, Tab, Row, ListGroup, Button } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addBank } from '../actions/authActions';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-datepicker/dist/react-datepicker-cssmodules.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Report = () => {\n  _s();\n\n  const allTransactions = useSelector(state => state.order ? state.order.admin : null);\n  const user = useSelector(state => state.auth ? state.auth.user : null);\n  const [key, setKey] = useState('user');\n  const [filtered, setFiltered] = useState([]);\n  const [transactions, setTransactions] = useState();\n  const [search, setSearch] = useState({\n    startDate: new Date(),\n    endDate: new Date(Date.now() + 1000 * 60 * 60 * 24 * 10)\n  });\n  useEffect(() => {\n    if (allTransactions) {\n      setTransactions(allTransactions);\n      setFiltered(allTransactions.filter(o => o.username === user.username));\n    }\n  }, [allTransactions]);\n\n  const setSection = input => {\n    if (input === \"user\") {\n      console.log(\"inside filter\", input);\n      const after = transactions.filter(t => t.username === user.username);\n      console.log(\"after\", after);\n      setFiltered(after);\n    }\n\n    setKey(input);\n  };\n\n  const searchTime = () => {\n    console.log(\"search\");\n\n    if (search.startDate > search.endDate) {\n      alert(\"Cannot access date\");\n    } else {\n      console.log(\"search date frame\", search);\n      let after = transactions.filter(t => t.start_date > search.startDate && t.end_date < search.endDate);\n      setFiltered(after);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"60%\",\n        margin: \"0 auto\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Tabs, {\n        id: \"controlled-tab-example\",\n        activeKey: key,\n        onSelect: k => setSection(k),\n        style: {\n          margin: \"auto 0\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"user\",\n          title: \"user\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: \"0 auto\",\n              width: \"70%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"User Report\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              className: \"justify-content-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Timeframe: \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                selected: search.startDate,\n                onChange: date => setSearch({ ...search,\n                  startDate: date\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                selected: search.endDate,\n                onChange: date => {\n                  setSearch({ ...search,\n                    endDate: date\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: \"10px\"\n                },\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: searchTime,\n                  children: \"Search\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n              children: filtered ? filtered.map((item, index) => {\n                // console.log(\"item\", item);\n                return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: [item.user, \" time: \", item.start, \" - \", item.end, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 78,\n                    columnNumber: 84\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: [\"type: \", item.type]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 79,\n                    columnNumber: 41\n                  }, this), \"balance: \", item.balance, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 80,\n                    columnNumber: 64\n                  }, this), \"status: \", item.paid, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 81,\n                    columnNumber: 60\n                  }, this), \"bitcoin: \", item.bitcoin, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 82,\n                    columnNumber: 64\n                  }, this), \"price: \", item.price, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 83,\n                    columnNumber: 60\n                  }, this), \"amount: \", item.fee]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 37\n                }, this); // return (\n                //     <ListGroup.Item>\n                //         {item.username} \n                //         {item.start_date}<br/>\n                //         <h6>type: {item.type}</h6>\n                //         order: {item.transaction_type}<br/>\n                //         currency: {item.currency}<br/>\n                //         bitcoin: {item.btc_quantity}<br/>\n                //         price: {item.price}<br/>\n                //         status: {item.status}<br/>\n                //     </ListGroup.Item>\n                // )\n              }) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"system\",\n          title: \"system\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: \"0 auto\",\n              width: \"70%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"System Report\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(ListGroup, {\n              children: transactions ? transactions.map((item, index) => {\n                // console.log(\"item\", item);\n                return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                  children: [item.username, item.start_date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 114,\n                    columnNumber: 58\n                  }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                    children: [\"type: \", item.type]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 41\n                  }, this), \"order: \", item.transaction_type, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 116,\n                    columnNumber: 71\n                  }, this), \"currency: \", item.currency, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 66\n                  }, this), \"bitcoin: \", item.btc_quantity, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 69\n                  }, this), \"price: \", item.price, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 60\n                  }, this), \"status: \", item.status, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 120,\n                    columnNumber: 62\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 37\n                }, this);\n              }) : null\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Report, \"+scK82SDtiEJJ2d4uvp+7nEyJts=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Report;\nexport default Report;\n\nvar _c;\n\n$RefreshReg$(_c, \"Report\");","map":{"version":3,"sources":["/Users/qiuyutianwen/Documents/GitHub/BitCorner/frontend/src/pages/Report.js"],"names":["React","useState","useEffect","Tabs","Tab","Row","ListGroup","Button","useDispatch","useSelector","addBank","DatePicker","Report","allTransactions","state","order","admin","user","auth","key","setKey","filtered","setFiltered","transactions","setTransactions","search","setSearch","startDate","Date","endDate","now","filter","o","username","setSection","input","console","log","after","t","searchTime","alert","start_date","end_date","width","margin","k","date","marginBottom","map","item","index","start","end","type","balance","paid","bitcoin","price","fee","transaction_type","currency","btc_quantity","status"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useEffect } from 'react';\nimport { Tabs, Tab, Row, ListGroup, Button} from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addBank } from '../actions/authActions';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport 'react-datepicker/dist/react-datepicker-cssmodules.min.css'\n\nconst Report = () => {\n    const allTransactions = useSelector((state) => state.order ? state.order.admin : null)\n    const user = useSelector((state) => state.auth ? state.auth.user : null)\n\n    const [key,setKey] = useState('user')\n    const [filtered, setFiltered] = useState([])\n    const [transactions,setTransactions] = useState()\n    const [search, setSearch] = useState({\n        startDate: new Date(),\n        endDate: new Date(Date.now() + 1000 * 60 * 60 * 24 * 10)\n    })\n\n    useEffect(() => {\n        if(allTransactions){\n            setTransactions(allTransactions)\n            setFiltered(allTransactions.filter((o) => o.username === user.username))\n        }\n            \n    }, [allTransactions])\n\n    const setSection = (input) => {\n        if(input === \"user\"){\n            console.log(\"inside filter\", input);\n            const after = transactions.filter((t) => t.username === user.username)\n            console.log(\"after\", after);\n            setFiltered(after)\n        }\n        setKey(input)\n    }\n\n    const searchTime = () => {\n        console.log(\"search\");\n        if(search.startDate > search.endDate){\n            alert(\"Cannot access date\")\n        }else{\n            console.log(\"search date frame\", search);\n            let after = transactions.filter((t) => t.start_date > search.startDate && t.end_date < search.endDate)\n            setFiltered(after)\n        }\n    }\n\n    return (\n        <> \n        <div style={{width: \"60%\", margin: \"0 auto\"}}>\n            <Tabs\n            id=\"controlled-tab-example\"\n            activeKey={key}\n            onSelect={(k) => setSection(k)}\n            style={{margin: \"auto 0\"}}\n            >\n                <Tab eventKey=\"user\" title=\"user\">\n                    <div style={{margin: \"0 auto\", width: \"70%\"}}>\n                        <Row className=\"justify-content-center\">\n                            <h4>User Report</h4>\n                        </Row>\n                        <Row className=\"justify-content-between\">\n                            <p>Timeframe: </p>\n                            <DatePicker selected={search.startDate} onChange={date => setSearch({...search, startDate: date})} />\n                            <DatePicker selected={search.endDate} onChange={date => {setSearch({...search, endDate: date}) }} />\n                            <div style={{marginBottom: \"10px\"}}>\n                                <Button onClick={searchTime}>Search</Button>\n                            </div>\n                        </Row>\n                        <ListGroup>\n                            {filtered ? filtered.map((item, index) => {\n                                // console.log(\"item\", item);\n                                return (\n                                    <ListGroup.Item>\n                                        {item.user} time: {item.start} - {item.end}<br/>\n                                        <h6>type: {item.type}</h6>\n                                        balance: {item.balance}<br/>\n                                        status: {item.paid}<br/>\n                                        bitcoin: {item.bitcoin}<br/>\n                                        price: {item.price}<br/>\n                                        amount: {item.fee}\n                                    </ListGroup.Item>\n                                )\n                                // return (\n                                //     <ListGroup.Item>\n                                //         {item.username} \n                                //         {item.start_date}<br/>\n                                //         <h6>type: {item.type}</h6>\n                                //         order: {item.transaction_type}<br/>\n                                //         currency: {item.currency}<br/>\n                                //         bitcoin: {item.btc_quantity}<br/>\n                                //         price: {item.price}<br/>\n                                //         status: {item.status}<br/>\n                                //     </ListGroup.Item>\n                                // )\n                            }): null}\n                        </ListGroup>\n                    </div>\n                </Tab>\n                <Tab eventKey=\"system\" title=\"system\">\n                    <div style={{margin: \"0 auto\", width: \"70%\"}}>\n                        <Row className=\"justify-content-center\">\n                            <h4>System Report</h4>\n                        </Row>\n                        <ListGroup>\n                            {transactions ? transactions.map((item, index) => {\n                                // console.log(\"item\", item);\n                                return (\n                                    <ListGroup.Item>\n                                        {item.username} \n                                        {item.start_date}<br/>\n                                        <h6>type: {item.type}</h6>\n                                        order: {item.transaction_type}<br/>\n                                        currency: {item.currency}<br/>\n                                        bitcoin: {item.btc_quantity}<br/>\n                                        price: {item.price}<br/>\n                                        status: {item.status}<br/>\n                                    </ListGroup.Item>\n                                )\n                            }): null}\n                        </ListGroup>\n                    </div>\n                </Tab>\n            </Tabs>\n        </div>\n        {/* <div style={{margin: \"0 auto\", width: \"50%\"}}>\n            <Row className=\"justify-content-center\">\n                {admin ? <h4>User Report</h4> : <h4>System Report</h4>}\n            </Row>\n            <ListGroup>\n                {transaction.map((item, index) => {\n                    return (\n                        <ListGroup.Item>\n                            {item.user} time: {item.start} - {item.end}<br/>\n                            bitcoin: {item.bitcoin}<br/>\n                            price: {item.price}\n                        </ListGroup.Item>\n                    )\n                })}\n            </ListGroup>\n        </div> */}\n        </>\n    )\n}\n\nexport default Report"]},"metadata":{},"sourceType":"module"}