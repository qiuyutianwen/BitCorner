{"ast":null,"code":"var _jsxFileName = \"/Users/qiuyutianwen/Documents/GitHub/BitCorner/frontend/src/pages/Report.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useEffect } from 'react';\nimport { Tabs, Tab, Row, ListGroup, Button, Col } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addBank } from '../actions/authActions';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-datepicker/dist/react-datepicker-cssmodules.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Report = () => {\n  _s();\n\n  const allTransactions = useSelector(state => state.order ? state.order.admin : null);\n  const user = useSelector(state => state.auth ? state.auth.user : null);\n  const [key, setKey] = useState('user');\n  const [filtered, setFiltered] = useState([]);\n  const [transactions, setTransactions] = useState();\n  const [search, setSearch] = useState({\n    startDate: new Date(Date.now() - 1000 * 60 * 60 * 24 * 10),\n    endDate: new Date(Date.now() + 1000 * 60 * 60 * 24 * 10)\n  });\n  useEffect(() => {\n    if (allTransactions) {\n      setTransactions(allTransactions);\n      setFiltered(allTransactions.filter(o => o.username === user.username));\n    }\n  }, [allTransactions]);\n\n  const setSection = input => {\n    if (input === \"user\") {\n      console.log(\"inside filter\", input);\n      const after = transactions ? transactions.filter(t => t.username === user.username) : null;\n      console.log(\"after\", after);\n      setFiltered(after);\n    }\n\n    setKey(input);\n  };\n\n  const searchTime = () => {\n    console.log(\"search\");\n\n    if (search.startDate > search.endDate) {\n      alert(\"Cannot access date\");\n    } else {\n      console.log(\"search date frame\", search);\n      let after = transactions.filter(t => t.start_date > search.startDate && t.end_date < search.endDate);\n      setFiltered(after);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"60%\",\n        margin: \"0 auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Search: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n          selected: search.startDate,\n          onChange: date => setSearch({ ...search,\n            startDate: date\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n          selected: search.endDate,\n          onChange: date => {\n            setSearch({ ...search,\n              endDate: date\n            });\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Tabs, {\n        id: \"controlled-tab-example\",\n        activeKey: key,\n        onSelect: k => setSection(k),\n        style: {\n          margin: \"auto 0\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"user\",\n          title: \"user\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: \"0 auto\",\n              width: \"100%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"justify-content-center\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"User Order Report\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"User Bill Report\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 72,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 67,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(ListGroup, {\n                  children: filtered && filtered.length !== 0 ? filtered.filter(t => new Date(t.start_date).getTime() > search.startDate.getTime() && new Date(t.start_date).getTime() < search.endDate.getTime()).map((item, index) => {\n                    // console.log(\"item\", item);\n                    return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                      children: [item.user, \" date: \", item.start_date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 82,\n                        columnNumber: 84\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: [\"type: \", item.type]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 83,\n                        columnNumber: 49\n                      }, this), \"status: \", item.status, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 84,\n                        columnNumber: 70\n                      }, this), \"bitcoin: \", item.btc_quantity, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 85,\n                        columnNumber: 77\n                      }, this), \"price: \", item.price, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 86,\n                        columnNumber: 68\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 81,\n                      columnNumber: 45\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"There is no user order report\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 89,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(ListGroup, {\n                  children: filtered && filtered.length !== 0 ? filtered.filter(t => new Date(t.start_date).getTime() > search.startDate.getTime() && new Date(t.start_date).getTime() < search.endDate.getTime()).map((item, index) => {\n                    // console.log(\"item\", item);\n                    return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                      children: [item.user, \" date: \", item.start_date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 98,\n                        columnNumber: 84\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: [\"type: \", item.type]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 99,\n                        columnNumber: 49\n                      }, this), \"status: \", item.status, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 100,\n                        columnNumber: 70\n                      }, this), \"bitcoin: \", item.btc_quantity, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 101,\n                        columnNumber: 77\n                      }, this), \"price: \", item.price, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 102,\n                        columnNumber: 68\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 97,\n                      columnNumber: 45\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"There is no user bill report\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 105,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 92,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Tab, {\n          eventKey: \"system\",\n          title: \"system\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              margin: \"0 auto\",\n              width: \"100%\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Row, {\n              className: \"justify-content-center\",\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"System Order Report\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"System Bill Report\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(ListGroup, {\n                  children: transactions && transactions.length !== 0 ? transactions.filter(t => new Date(t.start_date).getTime() > search.startDate.getTime() && new Date(t.start_date).getTime() < search.endDate.getTime()).map((item, index) => {\n                    // console.log(\"item\", item);\n                    return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: [\"Order ID: \", item.ID]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 128,\n                        columnNumber: 49\n                      }, this), item.username, item.start_date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 130,\n                        columnNumber: 66\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: [\"type: \", item.type]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 131,\n                        columnNumber: 49\n                      }, this), \"order: \", item.transaction_type, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 132,\n                        columnNumber: 79\n                      }, this), \"currency: \", item.currency, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 133,\n                        columnNumber: 74\n                      }, this), \"bitcoin: \", item.btc_quantity, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 134,\n                        columnNumber: 77\n                      }, this), \"price: \", item.price, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 135,\n                        columnNumber: 68\n                      }, this), \"status: \", item.status, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 70\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 127,\n                      columnNumber: 45\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"There is no system order report\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                children: /*#__PURE__*/_jsxDEV(ListGroup, {\n                  children: filtered && filtered.length !== 0 ? filtered.filter(t => new Date(t.start_date).getTime() > search.startDate.getTime() && new Date(t.start_date).getTime() < search.endDate.getTime()).map((item, index) => {\n                    // console.log(\"item\", item);\n                    return /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n                      children: [item.user, \" date: \", item.start_date, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 84\n                      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n                        children: [\"type: \", item.type]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 149,\n                        columnNumber: 49\n                      }, this), \"status: \", item.status, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 150,\n                        columnNumber: 70\n                      }, this), \"bitcoin: \", item.btc_quantity, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 151,\n                        columnNumber: 77\n                      }, this), \"price: \", item.price, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 152,\n                        columnNumber: 68\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 45\n                    }, this);\n                  }) : /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"There is no system bill report\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 41\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n};\n\n_s(Report, \"pB0U8uig44Tnj2z3ej0sz20mK1w=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Report;\nexport default Report;\n\nvar _c;\n\n$RefreshReg$(_c, \"Report\");","map":{"version":3,"sources":["/Users/qiuyutianwen/Documents/GitHub/BitCorner/frontend/src/pages/Report.js"],"names":["React","useState","useEffect","Tabs","Tab","Row","ListGroup","Button","Col","useDispatch","useSelector","addBank","DatePicker","Report","allTransactions","state","order","admin","user","auth","key","setKey","filtered","setFiltered","transactions","setTransactions","search","setSearch","startDate","Date","now","endDate","filter","o","username","setSection","input","console","log","after","t","searchTime","alert","start_date","end_date","width","margin","date","k","length","getTime","map","item","index","type","status","btc_quantity","price","ID","transaction_type","currency"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { useEffect } from 'react';\nimport { Tabs, Tab, Row, ListGroup, Button, Col} from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addBank } from '../actions/authActions';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport 'react-datepicker/dist/react-datepicker-cssmodules.min.css'\n\nconst Report = () => {\n    const allTransactions = useSelector((state) => state.order ? state.order.admin : null)\n    const user = useSelector((state) => state.auth ? state.auth.user : null)\n\n    const [key,setKey] = useState('user')\n    const [filtered, setFiltered] = useState([])\n    const [transactions,setTransactions] = useState()\n    const [search, setSearch] = useState({\n        startDate: new Date(Date.now() - 1000 * 60 * 60 * 24 * 10),\n        endDate: new Date(Date.now() + 1000 * 60 * 60 * 24 * 10)\n    })\n\n    useEffect(() => {\n        if(allTransactions){\n            setTransactions(allTransactions)\n            setFiltered(allTransactions.filter((o) => o.username === user.username))\n        }\n            \n    }, [allTransactions])\n\n    const setSection = (input) => {\n        if(input === \"user\"){\n            console.log(\"inside filter\", input);\n            const after = transactions ? transactions.filter((t) => t.username === user.username) :null\n            console.log(\"after\", after);\n            setFiltered(after)\n        }\n        setKey(input)\n    }\n\n    const searchTime = () => {\n        console.log(\"search\");\n        if(search.startDate > search.endDate){\n            alert(\"Cannot access date\")\n        }else{\n            console.log(\"search date frame\", search);\n            let after = transactions.filter((t) => t.start_date > search.startDate && t.end_date < search.endDate)\n            setFiltered(after)\n        }\n    }\n\n    return (\n        <> \n        <div style={{width: \"60%\", margin: \"0 auto\"}}>\n            <Row className=\"justify-content-between\">\n                <p>Search: </p>\n                <DatePicker selected={search.startDate} onChange={date => setSearch({...search, startDate: date})} />\n                <DatePicker selected={search.endDate} onChange={date => {setSearch({...search, endDate: date}) }} />\n            </Row>\n            <Tabs\n            id=\"controlled-tab-example\"\n            activeKey={key}\n            onSelect={(k) => setSection(k)}\n            style={{margin: \"auto 0\"}}\n            >\n                <Tab eventKey=\"user\" title=\"user\">\n                    <div style={{margin: \"0 auto\", width: \"100%\"}}>\n                        <Row className=\"justify-content-center\">\n                            <Col>\n                                <h4>User Order Report</h4>\n                            </Col>\n                            <Col>\n                                <h4>User Bill Report</h4>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <ListGroup>\n                                    {filtered && filtered.length !== 0 ? filtered.filter(t => new Date(t.start_date).getTime() > search.startDate.getTime() && new Date(t.start_date).getTime() < search.endDate.getTime()).map((item, index) => {\n                                        // console.log(\"item\", item);\n                                        return (\n                                            <ListGroup.Item>\n                                                {item.user} date: {item.start_date}<br/>\n                                                <h6>type: {item.type}</h6>\n                                                status: {item.status}<br/>\n                                                bitcoin: {item.btc_quantity}<br/>\n                                                price: {item.price}<br/>\n                                            </ListGroup.Item>\n                                        )\n                                    }): <div>There is no user order report</div>}\n                                </ListGroup>\n                            </Col>\n                            <Col>\n                                <ListGroup>\n                                    {filtered && filtered.length !== 0 ? filtered.filter(t => new Date(t.start_date).getTime() > search.startDate.getTime() && new Date(t.start_date).getTime() < search.endDate.getTime()).map((item, index) => {\n                                        // console.log(\"item\", item);\n                                        return (\n                                            <ListGroup.Item>\n                                                {item.user} date: {item.start_date}<br/>\n                                                <h6>type: {item.type}</h6>\n                                                status: {item.status}<br/>\n                                                bitcoin: {item.btc_quantity}<br/>\n                                                price: {item.price}<br/>\n                                            </ListGroup.Item>\n                                        )\n                                    }): <div>There is no user bill report</div>}\n                                </ListGroup>\n                            </Col>\n                        </Row>\n                    </div>\n                </Tab>\n                <Tab eventKey=\"system\" title=\"system\">\n                    <div style={{margin: \"0 auto\", width: \"100%\"}}>\n                        <Row className=\"justify-content-center\">\n                            <Col>\n                                <h4>System Order Report</h4>\n                            </Col>\n                            <Col>\n                                <h4>System Bill Report</h4>\n                            </Col>\n                        </Row>\n                        <Row>\n                            <Col>\n                                <ListGroup>\n                                    {transactions && transactions.length !== 0 ? transactions.filter(t => new Date(t.start_date).getTime() > search.startDate.getTime() && new Date(t.start_date).getTime() < search.endDate.getTime()).map((item, index) => {\n                                        // console.log(\"item\", item);\n                                        return (\n                                            <ListGroup.Item>\n                                                <h6>Order ID: {item.ID}</h6>\n                                                {item.username} \n                                                {item.start_date}<br/>\n                                                <h6>type: {item.type}</h6>\n                                                order: {item.transaction_type}<br/>\n                                                currency: {item.currency}<br/>\n                                                bitcoin: {item.btc_quantity}<br/>\n                                                price: {item.price}<br/>\n                                                status: {item.status}<br/>\n                                            </ListGroup.Item>\n                                        )\n                                    }): <div>There is no system order report</div>}\n                                </ListGroup>\n                            </Col>\n                            <Col>\n                                <ListGroup>\n                                    {filtered && filtered.length !== 0 ? filtered.filter(t => new Date(t.start_date).getTime() > search.startDate.getTime() && new Date(t.start_date).getTime() < search.endDate.getTime()).map((item, index) => {\n                                        // console.log(\"item\", item);\n                                        return (\n                                            <ListGroup.Item>\n                                                {item.user} date: {item.start_date}<br/>\n                                                <h6>type: {item.type}</h6>\n                                                status: {item.status}<br/>\n                                                bitcoin: {item.btc_quantity}<br/>\n                                                price: {item.price}<br/>\n                                            </ListGroup.Item>\n                                        )\n                                    }): <div>There is no system bill report</div>}\n                                </ListGroup>\n                            </Col>\n                        </Row>\n                    </div>\n                </Tab>\n            </Tabs>\n        </div>\n        </>\n    )\n}\n\nexport default Report"]},"metadata":{},"sourceType":"module"}