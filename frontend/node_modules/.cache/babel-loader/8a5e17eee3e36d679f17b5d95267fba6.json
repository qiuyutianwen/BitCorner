{"ast":null,"code":"var _jsxFileName = \"/Users/qiuyutianwen/Documents/GitHub/BitCorner/frontend/src/components/Bill.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Card, ListGroup, ListGroupItem, Form, Button, Row, Col } from 'react-bootstrap';\nimport { Application } from './export';\nimport { faTimes, faSearch } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { sendToMessage } from '../actions/authActions';\nimport { sendToBill } from '../actions/billAction';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-datepicker/dist/react-datepicker-cssmodules.min.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Bill = props => {\n  _s();\n\n  const allUser = useSelector(state => state.auth ? state.auth.allUser : null);\n  const [show, setShow] = useState(false);\n  const [editDisplay, setEditDisplay] = useState(\"none\");\n  const [payDisplay, setPayDisplay] = useState(\"none\");\n  const [message, setMessage] = useState();\n\n  const handleClose = () => setShow(false);\n\n  const handleShow = () => setShow(true);\n\n  const dispatch = useDispatch(); // const userEmail = \"123@gmail.com\";\n\n  console.log(\"props.value\", props.value);\n  const [billInfo, setBillInfo] = useState({\n    sender_id: parseInt(localStorage.getItem('id')),\n    receiver_id: props.value ? props.value.ID : null,\n    currency: \"EUR\",\n    description: \"\",\n    amount: \"\",\n    status: \"Waiting\",\n    start_date: new Date(),\n    due_date: new Date()\n  });\n  const currencies = [\"USD\", \"EUR\", \"GBP\", \"INR\", \"RMB\", \"BITCOIN\"];\n  let currencyOption = currencies.map((item, index) => {\n    return /*#__PURE__*/_jsxDEV(\"option\", {\n      value: item,\n      children: item\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 16\n    }, this);\n  });\n\n  const handleChange = event => {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    setBillInfo({ ...billInfo,\n      currency: value\n    });\n  };\n\n  const onSubmit = async () => {\n    billInfo['start_date'] = billInfo.start_date.toISOString().replace(/\\..+/, '');\n    billInfo['due_date'] = billInfo.due_date.toISOString().replace(/\\..+/, '');\n    console.log(\"on submit bill\", billInfo);\n    await dispatch(sendToBill(billInfo));\n  };\n\n  const toggleEditDisplay = () => {\n    if (editDisplay === \"none\") {\n      setEditDisplay(\"display\");\n    } else {\n      setEditDisplay(\"none\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n      children: [\"Send To: \", props.value.nickname, \" | \", props.value.username]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formBasicDescription\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Description: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        value: billInfo.description,\n        onChange: e => setBillInfo({ ...billInfo,\n          description: e.target.value\n        }),\n        type: \"text\",\n        placeholder: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"currency\",\n        children: \"Default Currency\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"currency\",\n        id: \"currency\",\n        value: billInfo.currency,\n        className: \"form-control\",\n        onChange: handleChange,\n        children: currencyOption\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formBasicDate\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Amount: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n        value: billInfo.amount,\n        onChange: e => setBillInfo({ ...billInfo,\n          amount: e.target.value\n        }),\n        type: \"text\",\n        placeholder: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      controlId: \"formBasicDate\",\n      children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n        children: \"Due Date: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 52\n      }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n        selected: billInfo.due_date,\n        onChange: date => setBillInfo({ ...billInfo,\n          due_date: date\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        variant: \"primary\",\n        onClick: onSubmit,\n        style: {\n          width: \"70%\",\n          margin: \"0 auto\"\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Bill, \"6GTspbjeFF5N23GrXlHIIby/o0w=\", false, function () {\n  return [useSelector, useDispatch];\n});\n\n_c = Bill;\nexport default Bill;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bill\");","map":{"version":3,"sources":["/Users/qiuyutianwen/Documents/GitHub/BitCorner/frontend/src/components/Bill.js"],"names":["React","useState","Card","ListGroup","ListGroupItem","Form","Button","Row","Col","Application","faTimes","faSearch","FontAwesomeIcon","useDispatch","useSelector","sendToMessage","sendToBill","DatePicker","Bill","props","allUser","state","auth","show","setShow","editDisplay","setEditDisplay","payDisplay","setPayDisplay","message","setMessage","handleClose","handleShow","dispatch","console","log","value","billInfo","setBillInfo","sender_id","parseInt","localStorage","getItem","receiver_id","ID","currency","description","amount","status","start_date","Date","due_date","currencies","currencyOption","map","item","index","handleChange","event","target","type","checked","onSubmit","toISOString","replace","toggleEditDisplay","nickname","username","e","date","width","margin"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { Card, ListGroup, ListGroupItem, Form, Button, Row, Col } from 'react-bootstrap';\nimport { Application } from './export';\nimport { faTimes, faSearch} from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { sendToMessage } from '../actions/authActions';\nimport { sendToBill } from '../actions/billAction';\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\"\nimport 'react-datepicker/dist/react-datepicker-cssmodules.min.css'\n\nconst Bill = (props) => {\n    const allUser = useSelector((state) => state.auth ? state.auth.allUser : null)\n\n    const [show, setShow] = useState(false);\n    const [editDisplay, setEditDisplay] = useState(\"none\");\n    const [payDisplay, setPayDisplay] = useState(\"none\");\n    const [message, setMessage] = useState()\n    \n    \n    const handleClose = () => setShow(false);\n    const handleShow = () => setShow(true);\n\n    const dispatch = useDispatch()\n    // const userEmail = \"123@gmail.com\";\n\n    console.log(\"props.value\", props.value);\n    const [billInfo, setBillInfo] = useState({\n        sender_id: parseInt(localStorage.getItem('id')),\n        receiver_id: props.value ? props.value.ID : null,\n        currency: \"EUR\",\n        description: \"\",\n        amount: \"\",\n        status: \"Waiting\",\n        start_date: new Date(),\n        due_date: new Date()\n    })\n\n    const currencies = [\"USD\", \"EUR\", \"GBP\", \"INR\", \"RMB\", \"BITCOIN\"]\n    let currencyOption = currencies.map((item, index) => {\n        return <option value={item} key={index}>{item}</option>\n    });\n\n    const handleChange = event => {\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        setBillInfo({...billInfo, currency: value})\n    }\n\n    const onSubmit = async () => {\n        billInfo['start_date'] = billInfo.start_date.toISOString().replace(/\\..+/, '') \n        billInfo['due_date'] = billInfo.due_date.toISOString().replace(/\\..+/, '') \n        console.log(\"on submit bill\", billInfo);\n        await dispatch(sendToBill(billInfo))\n    }\n\n    const toggleEditDisplay = () => {\n        if(editDisplay === \"none\"){\n            setEditDisplay(\"display\")\n        }else{\n            setEditDisplay(\"none\")\n        }\n    }\n    \n    return (\n        <>\n            <h6>Send To: {props.value.nickname} | {props.value.username}</h6>\n                <Form.Group controlId=\"formBasicDescription\">\n                    <Form.Label>Description: </Form.Label>\n                    <Form.Control value={billInfo.description} onChange={(e) => setBillInfo({ ...billInfo, description: e.target.value })} type=\"text\" placeholder=\"\" />\n                </Form.Group>\n            <div className=\"form-group\">\n                <label htmlFor=\"currency\">Default Currency</label>\n                <select\n                    name=\"currency\"\n                    id=\"currency\"\n                    value={billInfo.currency}\n                    className=\"form-control\"\n                    onChange={handleChange}>\n                    {currencyOption}\n                </select>\n            </div>\n            <Form.Group controlId=\"formBasicDate\">\n                <Form.Label>Amount: </Form.Label>\n                <Form.Control value={billInfo.amount} onChange={(e) => setBillInfo({ ...billInfo, amount: e.target.value })}type=\"text\" placeholder=\"\" />\n            </Form.Group>\n            <Form.Group controlId=\"formBasicDate\">\n                <Form.Label>Due Date: </Form.Label><br/>\n                <DatePicker selected={billInfo.due_date} onChange={date => setBillInfo({...billInfo, due_date: date})} />\n            </Form.Group>\n            <Row>\n                <Button variant=\"primary\" onClick={onSubmit} style={{width: \"70%\", margin: \"0 auto\"}}>\n                    Send\n                </Button>\n                {/* <Col>\n                    <Button variant=\"secondary\" onClick={toggleEditDisplay} style={{width: \"100%\"}}>\n                        Message\n                    </Button>\n                </Col> */}\n            </Row>\n            {/* <Application.Base display = {editDisplay}>\n                <Application.Close toggleDisplay={toggleEditDisplay}><FontAwesomeIcon icon={faTimes} /></Application.Close>\n                <h6>Message</h6>\n                <Application.TextArea value={message} onChange={(e) => setMessage(e.target.value)}/>\n                <Button variant=\"secondary\" onClick={send} style={{width: \"100%\"}}>\n                        Send Message\n                </Button>\n            </Application.Base> */}\n        </>\n    );\n}\n\nexport default Bill"]},"metadata":{},"sourceType":"module"}